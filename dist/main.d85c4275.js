parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WdKE":[function(require,module,exports) {
var e=document.querySelector(".rows"),t=8,s=8,r=document.querySelector("#time"),n=document.querySelector("#record-time");n.innerHTML="not set";var o,l=0,c=document.querySelector("#marked"),a=NaN,u=NaN,m=[],d=[],y=document.querySelector("#gridSelector");y.addEventListener("change",A);var f=document.querySelector("#numRowsText");f.innerHTML=t;var v=document.querySelector("#numRowsInput"),g=document.querySelector("#numColumnsText");g.innerHTML=s;var b=document.querySelector("#numColumnsInput"),h=document.querySelector("#createCustom"),p=document.querySelector("#reset");p.addEventListener("click",H);var S,M=document.querySelector("#indicatorArrow"),L=document.querySelector("#clickActions");L.addEventListener("click",E);var q=[];function A(){for(;e.firstChild;){for(;e.firstChild.firstChild;)e.firstChild.removeChild(e.firstChild.firstChild);e.removeChild(e.firstChild)}switch(document.querySelector("#winMessage").style.display="none",document.querySelector("#lossMessage").style.display="none",m=[],d=[],l=0,M.removeAttribute("class"),M.setAttribute("class","clickReveal"),y.value){case"Small":null!==localStorage.getItem("smallScore")&&(n.innerHTML=localStorage.getItem("smallScore")),f.style.display="inline",f.innerHTML="8",g.style.display="inline",g.innerHTML="8",v.style.display="none",b.style.display="none",h.style.display="none",t=8,s=8;break;case"Medium":null!==localStorage.getItem("medScore")?n.innerHTML=localStorage.getItem("medScore"):n.innerHTML="not set",f.style.display="inline",f.innerHTML="16",g.style.display="inline",g.innerHTML="16",v.style.display="none",b.style.display="none",h.style.display="none",t=16,s=16;break;case"Large":null!==localStorage.getItem("largeScore")?n.innerHTML=localStorage.getItem("largeScore"):n.innerHTML="not set",f.style.display="inline",f.innerHTML="24",g.style.display="inline",g.innerHTML="24",v.style.display="none",b.style.display="none",h.style.display="none",t=24,s=24;break;case"Custom":n.innerHTML="N/A",f.style.display="none",v.style.display="block",g.style.display="none",b.style.display="block",h.style.display="inline",y.addEventListener("change",A),h.addEventListener("click",function(e){e.preventDefault(),t=v.value,s=b.value,A()})}for(r.innerHTML=parseInt(0,10),u=Math.floor(t*s*.2),a=0,c.innerHTML="".concat(a," / ").concat(u),i=0;i<t;i++){var o=document.createElement("div");for(e.appendChild(o),o.setAttribute("class","row"),o.setAttribute("id","row-".concat(i+1)),j=0;j<s;j++){var p=document.createElement("div");o.appendChild(p),p.setAttribute("class","square"),p.setAttribute("id","sq".concat(i*s+j+1)),p.addEventListener("click",x)}}}function T(){r.innerHTML=0,S=setInterval(function(){r.innerHTML=parseInt(r.innerHTML,10)+1},1e3)}function k(){clearInterval(S)}function H(e){e.preventDefault(),k(),A()}function I(e){e.preventDefault();var t=parseInt(e.target.id.substr(2),10);q.push(t),l<1?(o=e.target,C(),w(),l+=1):(l+=1,e.target.removeAttribute("class"),e.target.removeEventListener("click",E),w())}function C(){console.log(o);var e=parseInt(o.getAttribute("id").substr(2),10);for(i=0;i<u;i++)m.push("mine");for(console.log("The array has ".concat(m.length," mines")),i=0;i<s*t-u-1;i++)m.push("tbd");for(var r,n,l=m.length;0!==l;)n=Math.floor(Math.random()*l),r=m[l-=1],m[l]=m[n],m[n]=r;console.log("The first square clicked was ".concat(e)),console.log(m.slice(0,e-1)),d.push(m.slice(0,e-1)),console.log(d[0].length),d.push(["tbd"]),d.push(m.slice(e-1)),m=d[0].concat(d[1],d[2]),console.log("The array has ".concat(m.length," values")),console.log(m),T()}function w(){var e=q[0],r=e-1;console.log(e);var n=document.querySelector("#sq".concat(e));if(n.removeEventListener("click",x),"mine"===m[r])console.log("boom!"),k(),n.removeAttribute("class"),n.setAttribute("class","mine"),N(e);else{var o=0;e>s&&e%s!=1&&"mine"===m[r-s-1]&&(o+=1),e>s&&"mine"===m[r-s]&&(o+=1),e>s&&e%s!=0&&"mine"===m[r-s+1]&&(o+=1),e%s!=1&&"mine"===m[r-1]&&(o+=1),e%s!=0&&"mine"===m[r+1]&&(o+=1),e%s!=1&&e<=(t-1)*s&&"mine"===m[r+s-1]&&(o+=1),e<=(t-1)*s&&"mine"===m[r+s]&&(o+=1),e<=(t-1)*s&&e%s!=0&&"mine"===m[r+s+1]&&(o+=1),console.log("Square ".concat(e," has ").concat(o," mines around it"));var i=document.createElement("P");switch(n.appendChild(i),o){case 0:e>s&&e%s!=1&&q.push(e-s-1),e>s&&q.push(e-s),e>s&&e%s!=0&&q.push(e-s+1),e%s!=1&&q.push(e-1),e%s!=0&&q.push(e+1),e%s!=1&&e<=(t-1)*s&&q.push(e+s-1),e<=(t-1)*s&&q.push(e+s),e<=(t-1)*s&&e%s!=0&&q.push(e+s+1),n.removeAttribute("class"),n.setAttribute("class","zero");break;case 1:n.removeAttribute("class"),n.setAttribute("class","one");break;case 2:n.removeAttribute("class"),n.setAttribute("class","two");break;case 3:n.removeAttribute("class"),n.setAttribute("class","three");break;case 4:n.removeAttribute("class"),n.setAttribute("class","four");break;case 5:n.removeAttribute("class"),n.setAttribute("class","five");break;case 6:n.removeAttribute("class"),n.setAttribute("class","six");break;case 7:n.removeAttribute("class"),n.setAttribute("class","seven");break;case 8:n.removeAttribute("class"),n.setAttribute("class","eight")}i.innerHTML=o}for(q.shift(),console.log(q);q.length>0;){for(var l=document.querySelector("#sq".concat(q[0]));0==l.classList.contains("square");)q.shift(),l=document.querySelector("#sq".concat(q[0]));q.length>0&&w()}}function E(e){e.preventDefault(),M.classList.contains("clickReveal")?(M.removeAttribute("class"),M.setAttribute("class","clickMark")):M.classList.contains("clickMark")?(M.removeAttribute("class"),M.setAttribute("class","clickReveal")):console.log("something is wrong")}function x(e){e.preventDefault(),M.classList.contains("clickReveal")?I(e):M.classList.contains("clickMark")?D(e):console.log("something is wrong")}function D(e){if(e.preventDefault(),l>0){var o=e.target;if(o.classList.contains("square")){if(o.removeAttribute("class"),o.setAttribute("class","mine-marker"),a+=1,c.innerHTML="".concat(a," / ").concat(u),a===u){for(k(),i=0;i<t*s;i++)document.querySelector("#sq".concat(i+1)).classList.contains("square")&&(q.push(i+1),w());if(null==document.querySelector(".mine")){if(console.log("Congratulations! You win!"),document.querySelector("#winMessage").style.display="block","not set"===n.innerHTML||"N/A"===n.innerHTML||parseInt(r.innerHTML,10)<parseInt(n.innerHTML,10))switch(y.value){case"Small":localStorage.setItem("smallScore",r.innerHTML),n.innerHTML=localStorage.getItem("smallScore");break;case"Medium":localStorage.setItem("mediumScore",r.innerHTML),n.innerHTML=localStorage.getItem("mediumScore");break;case"Large":localStorage.setItem("largeScore",r.innerHTML),n.innerHTML=localStorage.getItem("largeScore")}}else document.querySelector(".mine")&&(console.log("Sorry! You didn't find all the mines. Better luck next time!"),document.querySelector("#lossMessage").style.display="block")}}else o.classList.contains("mine-marker")&&(o.removeAttribute("class"),o.setAttribute("class","square"),a-=1,c.innerHTML="".concat(a," / ").concat(u))}}function N(e){var r;setTimeout(function(){for(i=-1;i<2;i++)r=document.querySelector("#sq".concat(e-s+i)),Math.floor((e-s+i-1)/s)===Math.floor((e-s-1)/s)&&r.setAttribute("class","explosion");for(i=-1;i<2;i+=2)r=document.querySelector("#sq".concat(e+i)),Math.floor((e+i-1)/s)===Math.floor((e-1)/s)&&r.setAttribute("class","explosion");for(i=-1;i<2;i++)r=document.querySelector("#sq".concat(e+s+i)),Math.floor((e+s+i-1)/s)===Math.floor((e+s-1)/s)&&r.setAttribute("class","explosion")},333),setTimeout(function(){for(i=-1;i<2;i++)r=document.querySelector("#sq".concat(e-s+i)),Math.floor((e-s+i-1)/s)===Math.floor((e-s-1)/s)&&r.setAttribute("class","aflame");for(i=-1;i<2;i+=2)r=document.querySelector("#sq".concat(e+i)),Math.floor((e+i-1)/s)===Math.floor((e-1)/s)&&r.setAttribute("class","aflame");for(i=-1;i<2;i++)r=document.querySelector("#sq".concat(e+s+i)),Math.floor((e+s+i-1)/s)===Math.floor((e+s-1)/s)&&r.setAttribute("class","aflame")},667),setTimeout(function(){for(i=1;i<=s*t;i++)r=document.querySelector("#sq".concat(i)),"mine"===m[i-1]&&(r.removeAttribute("class"),r.setAttribute("class","mine"))},1e3),document.querySelector("#lossMessage").style.display="block"}A();
},{}]},{},["WdKE"], null)
//# sourceMappingURL=/minesweeper-ag/main.d85c4275.js.map